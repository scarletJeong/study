
- [x] 크롤링 vs 배치
- [ ] jenkins 시작
- [x] 갑자기 오후 5시에 발생한.. 서버 문제



### 1. 크롤링 vs 배치
###### 1. 크롤링(Crawling)
> 	- 웹사이트나 특정 데이터 소스로부터 **데이터를 자동으로 수집**하는 프로세스
> 	- #데이터수집행위
> 	 
> 	- 특징
> 		- 주기
> 			- 실시간 or 특정 간격으로 동작
> 			- 동적 데이터를 수집할 때 자주 사용됨.
> 		- 입력 
> 			- URL, API, 웹페이지 등
> 		- 출력
> 			- 크롤링한 HTML, JSON, 텍스트 데이터 등
> 		- 기술
> 			- Scrapy, Puppeteer,...

###### 2. 배치 (Batch)
>	- 대규모 데이터 처리를 일정 시간 간격으로 일괄적으로 수행하는 작업
>	#수집된데이터를가공분석저장하는데중점
>		- .
>	- 특징
>		- 주기 
>			- 실시간 처리보다는 일정 시간에 집중적으로 수행
>		- 입력
>			- CSV, 로그 파일, DB,  크롤링 데이터 등
>		- 출력
>			- 정제된 데이터, 분석 결과, 보고서 등
>		- 기술
>			- ETL 도구(Talend..) , Hadoop 등
>			- 스케줄링 도구 : Apache Airflow, Cron 등..


| 작업 내용                        | 크롤링         | 배치 처리       |
| ---------------------------- | ----------- | ----------- |
| 웹에서 데이터를 가져오는 작업             | ✅ (주된 역할)   | ❌ (포함되지 않음) |
| 파일이나 기존 데이터를 가공, 분석, 변환하는 작업 | ❌ (포함되지 않음) | ✅ (주된 역할)   |
| 작업을 주기적으로 실행                 | 크롤링 스케줄링 가능 | ✅ 배치의 주요 특성 |


### 2. 서버 문제
```
Simulating renewal of an existing certificate for [purewithme.com](http://purewithme.com/)Certbot failed to authenticate some domains (authenticator: nginx). The Certificate Authority reported these problems:  
  Domain: [purewithme.com](http://purewithme.com/)  
  Type:   unauthorized  
  Detail: 15.164.5.220: Invalid response from [https://purewithme.com/.well-known/acme-challenge/H1q9odVilecrqZ8x_0SzAXN1EbD3exRvPjV3vFZ8rlA](https://purewithme.com/.well-known/acme-challenge/H1q9odVilecrqZ8x_0SzAXN1EbD3exRvPjV3vFZ8rlA): 404Hint: The Certificate Authority failed to verify the temporary nginx configuration changes made by Certbot. Ensure the listed domains point to this nginx server and that it is accessible from the internet.Failed to renew certificate [purewithme.com](http://purewithme.com/) with error: Some challenges have failed.- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
All simulated renewals failed. The following certificates could not be renewed:  
  /etc/letsencrypt/live/purewithme.com/fullchain.pem (failure)  
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
1 renew failure(s), 0 parse failure(s)  
Ask for help or search for solutions at [https://community.letsencrypt.org](https://community.letsencrypt.org/). See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more detai
```
> Certbot이 Let's Encrypt로 부터 SSL/TLS 인증서를 갱신하려고 했지만, 도메인 소유권 검증(Domain Validation, DV) 과정에 실패해서 발생한 문제.

> `>`. well-known/acme-challenge 접근 실패
> 	- Let's Encrypt 는 도메인의 소유권을 확인하기 위해 `/.well-known/acme-challenge/` 디렉토리에 특정 파일을 생성하고 해당 파일을 HTTP(S) 통해 접근함
> 	- 그치만 파일을 찾지 못해 404 오류 발생
> 	
> 	- 가능한 원인
> 		- Nginx 설정에  `/.well-known/acme-challenge/` 경로를 올바르게 처리하지 못함.
> 		- Nginx가 Certbot이 만든 파일을 가로채거나 리다이렉트 한 경우
> 		- 방화벽 요청 차단
> 		- DNS 설정 오류로 purewithme.com이 올바른 서버 IP를 가리키지 않는 경우
> 		  
> 	- 해결 상황
> 		- `/etc/nginx/sites-available/default` 파일에 8080서버가 있어서, 이것을 뺐더니 다시 됨.
> 		- 뭔가.. nginx start를 했는데 ssl 인증서 오류가 나면서 80포트와 443 포트가 꺼지지 않았나..
> 		  
> 	- 공부하고 이해한것 
> 		- niginx 와 spring boot 는 별개인데, 어제 ssl 갱신에 문제가 생기면서 nginx가 돌아가지 않으니( 80포트와 443 포트가 꺼짐) 당연히 도메인 이 연결안되면서 서버가 다운되었다고 생각한 듯
> 		- 이때 jar 는 올린 상태 = spring boot는 실행 중이라면 `http://ip:8080` 으로 들어갔으면 들어가졌을 듯.
> 		  
> 	- 추후에 8080 이거 넣고 다시 돌려보기


