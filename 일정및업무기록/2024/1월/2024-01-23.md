-

# 소스 커밋 시 빌드 파일 문제 및 해결 방법

## 소개

소스 코드 커밋 시 빌드 파일까지 업데이트되어 발생하는 문제와 이를 방지하고 해결하는 방법을 정리함. 이를 통해 프로젝트의 효율적인 버전 관리와 유지보수를 도모할 수 있음.

## 주요 학습 내용

### 1. 문제 정의

- **상황**:
  - 소스 코드 커밋 시 빌드 파일까지 함께 업데이트되어 로컬 환경에 문제가 발생.
- **문제 원인**:
  1. 의존성 문제:
     - 새로운 소스 코드 업데이트 시 필요한 라이브러리나 의존성이 변경되었을 수 있음.
  2. 환경 설정 문제:
     - 새로운 설정이나 환경 변수가 필요한 경우 로컬 환경에서 빌드 실패.
  3. 빌드 도구 버전 차이:
     - 팀원 간 빌드 도구의 버전 불일치로 인한 호환성 문제.

---

### 2. 빌드 파일 커밋이 문제되는 이유

#### 1. 버전 관리 용량 및 효율성

- 빌드 파일은 일반적으로 바이너리 형식이며, 커밋할 경우 저장 공간을 낭비.
- 빌드 파일은 빌드 단계에서 생성되므로 버전 관리에 포함될 필요가 없음.

#### 2. 환경 및 의존성 차이

- 특정 환경에서 생성된 빌드 파일은 다른 환경에서 작동하지 않을 가능성이 큼.
- 로컬 환경과 서버 환경의 차이로 인해 문제가 발생할 수 있음.

#### 3. 유연한 배포 및 릴리스 관리

- 빌드 파일을 제외하고 소스 코드만 관리하면, 필요한 환경에 맞게 빌드 가능.
- 빌드 프로세스를 쉽게 통제하고 릴리스 관리가 용이.

#### 4. 보안 이슈

- 빌드 파일에 민감한 정보(예: 암호화 키, 설정 값 등)가 포함될 수 있음.
- 소스 코드만 관리하면 보안 위험을 줄일 수 있음.

---

### 3. 해결 방법

#### 1. .gitignore 설정

- 빌드 파일을 Git 버전 관리에서 제외.
- **예시**:
  ```
  # 빌드 디렉토리 제외
  /build/
  /out/
  *.class
  *.jar
  *.war
  ```

#### 2. 빌드 도구 및 환경 통합

- 팀 내 빌드 도구, 프레임워크, 라이브러리 버전을 통일.
- Maven, Gradle과 같은 의존성 관리 도구 사용.
- **예시**:
  ```gradle
  dependencies {
      implementation 'org.springframework.boot:spring-boot-starter'
  }
  ```

#### 3. 이클립스 자동 빌드 끄기

- 이클립스에서 자동 빌드(Auto Build)를 끄고 수동 빌드로 전환.
- **설정 방법**:
  - 상단 메뉴: `Project -> Build Automatically` 체크 해제.

#### 4. 로컬 환경 테스트

- 소스 코드 업데이트 후 로컬 환경에서 테스트 실행.
- 필요한 의존성 및 설정 업데이트.

---

## 깨달은 것

1. **빌드 파일의 비관리 필요성**:
   - 빌드 파일은 환경 종속적이며, 버전 관리에서 제외하는 것이 바람직함.
2. **.gitignore 활용**:
   - 불필요한 파일을 관리 대상에서 제외하여 효율적인 소스 관리 가능.
3. **환경 통합의 중요성**:
   - 빌드 도구와 의존성 버전을 통일하여 호환성 문제를 줄임.
4. **자동 빌드 설정 주의**:
   - 대규모 프로젝트에서는 자동 빌드 대신 수동 빌드를 통해 개발 효율성 유지.

