
- [ ] CI/CD 란?
- [ ] Docker / Kubernates / Jenkins
- [ ] Docker + Kubernates / Docker +Jenkins


## CI/CD = 빌드/테스트 자동화 소프트웨어

![[Pasted image 20241224105442.png]]

1. **CI _ Continuous Integration : 지속적인 통합**
>	- 코드 변경이 자동으로 빌드. 테스트 준비되는 소프트웨어 개발 방식

2. **CD  _ Continuous Delivery : 지속적인 서비스
     _ Continuous Deployment : 지속적인 배포**
 >	- 자동화된 빌드 및 테스트(CI)가 수행된 후,
 >	   개발자가 코드 변경 사항을 중앙 리포지토리에 정기적으로 병합하는 소프트웨어 개발 방식
 >	   
 >	 - 지속적인 서비스 : 비즈니스 모델을 언제든지 출시할 수 있게 준비 된 상태를 유지하는 것
 >	 - 지속적인 배포 : 지속 서비스가 가능한 상태에서 좀 더 확장된 형태
 >				 - 자동화된 프로세스를 통해 새로운 코드 변경 사항이 즉시 고객에게 배포
 >				 - 실시간으로 업로드 되는 비즈니스 모델을 제공하는 것.



3. 클라우드 환경에서 CI/CD 역할
>	(1) 자동화 배포
>		- 신속하게 소프트웨어를 배포할 수 있음.
>		`클라우드에서는 서버, 네트웤, 스토리지 등을 자동으로 프로비저닝(사용자가 요청한 IT자원을 사용할 수 있는 상태로 준비하는 것)을 확장할 수 있음.`
>	(2) 확장성과 유연성 강화
>		- 클라우드는 리소스를 확장하고 축소할 수 있음
>	(3) 빠른 반응 및 업데이트 지원
>		- CI/CD는 배포과정을 자동화하여 안정적으로 소프트웨어를 전달할 수 있음
>		- 빠른 개발주기를 지원


------
## Docker / Kubernates / Jenkins

#### 1. Docker
> 	- 소프트웨어를 컨테이너로 패키징하고 실행할 수 있게 해주는 도구
> 	
> 	+ 컨테이너 : 애플리케이션과 필요한 라이브러리 및 의존성을 함께 묶어서 어디서든 실행 가능하도록 함.
> 	
> 	- 특징
> 		1. 컨테이너화
> 			- 애플리케이션을 컨테이너로 패키징하여 어디서나 동일한 환경에서 실행 가능
> 			- ex ) 개발 환경. 테스트 환경, 운영 환경의 일관성 보장
> 		2. 이미지 관리
> 			- 애플리케이션을 실행하기 위해 Docker 이미지를 사용
> 		3. 경량화
> 			- 가상 머신(VM)보다 경량화되어 더 빠르게 실행되고, 리소스 소비가 적음.
> 
> 	- 구성 요소
> 		1. DockerFile
> 			- 컨테이너 이미지를 생성하기 위한 명세 파일
> 		2. Docker Image
> 			- 실행 가능한 컨테이너의 템플릿
> 		3. Docker Container
> 			- 이미지를 실행한 상태의 가상화된 애플리케이션
> 
> 	- Docker 사용 사례
> 		- 애플리케이션 컨테이너화
> 		- 로컬 개발 환경 구축
> 		- CI/CD 파이프라인에서 애플리케이션 빌드+테스트


#### 2. Kubernates
>	- 컨테이너화된 애플리케이션을 배포하고, 관리하고, 확장하는 플랫폼.
>	
>	- 다수의 컨테이너를 효율적으로 관리할 수 있게 설계됨.
>  
>	- 기능
>		1. 컨테이너 오케스트레이션
>			- 여러 컨테이너를 자동으로 배포하고 확장하며 복구
>		2. 셀프 힐링
>			- 실패한 컨테이너를 자동으로 재시작
>		3. 자동 확장
>			- 트래픽 증가에 따라 컨테이너 수를 자동으로 늘리거나 줄임. 
>		4. 로드 밸런싱
>			- 사용자 요청을 여러 컨테이너로 분산
>  
>	- 구성 요소
>		1. node
>			- 컨테이너를 실행하는 물리적/가상 머신
>		2. pod
>			- 컨테이너의 기본 실행 단위
>		3. Deployment(배포)
>			- 컨테이너를 관리하는 선언적 API
>		4. Service
>			- 외부와 통신하기 위한 네트워크 인터페이스
>
>	- 사용 사례
>		- 대규모 컨테이너 애플리케이션 고나리
>		- 복잡한 마이크로서비스 아키텍처 관리
>		- 애플리케이션 확장 및 자동화
>		


 ####  3. Jenkins
>	- CI/CD 파이프라인을 자동화하는 도구
>	- 빌드+테스트+배포작업을 자동으로 수행
>
>	- 기능
>		1. CI/CD 파이프라인 구축
>			- 코드 푸시 시 자동으로 빌드+테스트+배포
>		2. 플러그인 지원
>			- Docker, Kubernates, GitJub 등과 통합 가능
>		 3. 자동화 작업 관리
>			- 스크립트 기반으로 복잡한 작업을 자동화
>
>	- Jenkins 파이프라인 구조
>		- Declarative Pipeline
>			- YAML 과 비슷한 형식
>			- 빌드 작업을 선언적으로 정의
>		- Scripted Pipeline
>			- Groovy 스크립트로 빌드 작업 정의
>
>	- 사용사례
>		- 코드 변경 시 자동 테스트+배포
>		- Docker 이미지 빌드 + Kubernates 클러스터에 배포
>		


-----
### Docker + Jenkins **vs**  Docker + Kubernetes 

#### 1. Docker + Jenkins 로 CI/CD 구축
>	- Docker  → 컨테이너화된 애플리케이션을 실행
>	- Jenkins → CI/CD 파이프라인을 자동화
>	
>	- 가능한 작업
>		- 코드 변경 시  Jenkins가 자동으로 빌드+테스트 수행
>		- Docker 이미지 생성 + 컨테이너 실행하여 애플리케이션 배포
>		  
>		  
>	- 장점
>		- Jekins는 [빌드+테스트+배포] 워크플로를 쉽게 자동화.
>		- Docker와 통합하여 애플리케이션을 어디서나 실행 가능
>	- 단점
>		- Jekins는 애플리케이션의 실행 환경을 관리하지 않음
>		- 컨테이너의 확장, 로드 밸런싱, 복구는 추가적인 도구가 필요


#### 2. Docker + Kubernates
>	- Kunernates → CI/CD 기능은 없지만, 컨테이너의 배포, 관리, 확장성을 제공
>	
>	- 가능한 작업
>		- 1. Docker 로 컨테이너화된 애플리케이션을 Kubernates 클러스터에 배포
>		- 2. 컨테이너를 자동으로 확장 및 복구
>		- 3. 지속적으로 새로운 컨테이너 이미지를 배포(CD)
>	- 장점
>		- 애플리케이션 실행 환경 관리
>			- Kubernates 는 컨테이너를 지속적으로 모니터링하며, 장애가 발생하면 자동복구
>		- 확장성
>			- 트래픽이 늘어나면 컨테이너 수를 자동으로 증가
>		- 멀티 클러스터 지원
>			- 대규모 애플리케이션에서 여러 클러스터를 통합 관리 가능
>	- 단점
>		- CI/CD 파이프라인 자체는 Kubernates가 직접 제공하지 않음
>		- Kubernates 설정 관리할려면 학습할게 많음..



#### Jenkins 하나만 충분하다라고 생각할까?
> - Jenins는 **CI/CD 자동화**에 특화되어 있어, 코드 변경시 [빌드+테스트+배포]를 쉽게 관리가능.
> - Docker과 동합하여 Jenkins가 Docker컨테이너를 생성하고 실행하면, CI/CD의 기본 기능은 충분히 구현 가능 
> 
> 	- **Jenkins + Docker workFlow**
> 		1. Jenkins가 GItHub/GitLab에서 코드 변경 사항을 가져옴.
> 		2. Jenkins가 Docker 이미지 빌드
> 		3. Jenkins가 Docker 컨테이너를 실행하여 애플리케이션 배포
> 		   
> 	- 단점
> 		- Jenkins는 컨테이너의 실행 상태를 지속적으로 관리하거나 확장하지 않음.
> 		- Kubernates같은 컨테이너 오케스트레이션 도구가 없으면 애플리케이션의 안정성과 확장성 관리가 어려움


#### Kubernates를 더 선호하는 이유
> 자동배포 여부 < 컨테이너 기반 애플리케이션 [실행 환경 관리 + 안정성 + 확장성 + 복구 능력]
>
   Kubernetes는 CI/CD 도구가 제공하지 않는 **컨테이너 상태 관리, 확장, 복구, 네트워킹** 기능을 제공.
>
 1. 대규모 운영 환경에 적합
> 	- Kubernates 는 단일 애플리케이션 배포보다, 수 백개의 컨테이너와 서비스를 관리하는데 적합
> 2. 멀티 클라우드 및 자체서버 환경 지원
> 	- Kubernates 는 AWS, Azure 등 모든 클라우드 환경에서 동일하게 동작
> 	- 자체 서버(온프레미스) 환경에서도 클러스터를 구성할 수 있어, 클라우드 종속성을 줄임.
> 3. 자동화된 복구 및 확장
> 	


#### Jenkins vs Kubernetes

|**기능**|**Jenkins**|**Kubernetes**|
|---|---|---|
|**목적**|CI/CD 파이프라인 자동화|컨테이너 오케스트레이션|
|**배포 자동화**|가능 (Docker와 통합)|가능 (이미지 자동 배포)|
|**컨테이너 상태 관리**|지원하지 않음|컨테이너 상태를 지속적으로 모니터링 및 관리|
|**확장성**|수동 관리 필요|자동 확장 지원|
|**러닝 커브**|쉬움|어려움|



----

### Docker + Kubernaes 에서 배포를 수행하는 방법

 **+ 배포 :  Kubernates 클러스터에 컨테이너 이미지를 올리고 배포하는 과정을 의미.**

`Docker + Kubernates 는 CI/CD 도구가 아니기때문에, 자동배포(CI/CD) 기능을 제공하지 않음. `

1. 수동 배포
>	1. Docker 이미지 빌드
>	2. Docker 이미지를 컨테이너 레지스트리에 푸시
>	3. Kubernates Deployment 업데이트
>	4. 배포 확인

2. 자동 배포
>	1. CI/CD 도구 
>		- Jenkins, GitHub Action, GitLab CI/CD 
>	2. GitOps 도구
>		- ArgoCD / FluxCD 

 


